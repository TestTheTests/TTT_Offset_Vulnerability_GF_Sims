# November notes

## 20191102
Trouble shooting the gradientForest outputing blank objects.

Originally encountered this when running SLiM outputs from the neutral simulation (i.e. no allele under selection, only size differences), however the same error comes up with the low migration scenario (m=0.01).

The function gradientForest runs through all loci (the biggest time investment), then terminates with the _warning_ "The response has five or fewer unique values.  Are you sure you want to do regression?"

This warning is not an error, and when run on subset data from the m=0.05 still occurs, but while still runnin gradientForest to completion (_i.e._ still generating the output).

## 20191105
Looks like it's due to the subsetting. In the R code there's a subset of individuals that can be taken (10 from each population), this seems to result in an empty gradientForest output while the non-subset data runs to completion. Unsure why this is.

## 20191110
The subsetting (although it was being done in the wrong place) wasn't the issue, the trouble was that when the final data structure was formatted for the gradientForest function it was being run through `cbind` with the vector of allele frequencies for the allele under selection and then being converted back to a data frame, but not when exclusively neutral. Running the data frame through `cbind` (with nothing added) and then converting back to a data frame fixed the problem, and `gradientForest` not runs fine even when there is no allele under selection vector.

## 20191119
Simulation of a 10x10 neutral model with size differences in the meta-population organized as follows:
```
10, 10, 40, 40, 40, 100, 160, 160, 220, 220
10, 10, 40, 40, 40, 100, 160, 160, 220, 220
10, 10, 40, 40, 40, 100, 160, 160, 220, 220
10, 10, 40, 40, 40, 100, 160, 160, 220, 220
10, 10, 40, 40, 40, 100, 160, 160, 220, 220
10, 10, 40, 40, 40, 100, 160, 160, 220, 220
10, 10, 40, 40, 40, 100, 160, 160, 220, 220
10, 10, 40, 40, 40, 100, 160, 160, 220, 220
10, 10, 40, 40, 40, 100, 160, 160, 220, 220
10, 10, 40, 40, 40, 100, 160, 160, 220, 220
```
GF Cumulative importance plot shows genome wide values equally high as when selection is implemented
![image](https://github.com/TestTheTests/TTT_Offset_Vulnerability_GF_Sims/blob/master/Notebook/img/GFCI_NE.png)

The GF Offset vs the F_ST Offset in this fully neutral process actually shows a stronger correlation than when a locus is under selection
![image](https://github.com/TestTheTests/TTT_Offset_Vulnerability_GF_Sims/blob/master/Notebook/img/GF_FST_NE.png)

Plotting the size of the deme vs the GF Offset experienced shows a strong negative relationship between them
![image](https://github.com/TestTheTests/TTT_Offset_Vulnerability_GF_Sims/blob/master/Notebook/img/PopSize_GF_NE.png)
