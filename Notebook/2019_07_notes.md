## July  ##
### 20190705 ###

Comparing the recapitation times of different matrix sizes at 1 and 2 timepoints, between 10 and 100 ind. per pop. 

At a population size of 10 it's clear that the recapitation proceeds at a reasonable time frame (20-30 min. for a 10x10 matrix), while the pop. size of 100 completes for a 6x6 matrix in 40-60 min. The difference between 1 and 2 timepoints is negligble as it fluctuates which one took longer (at least for matrixes smaller than 10x10). 
![image](https://github.com/TestTheTests/TTT_Offset_Vulnerability_GF_Sims/blob/master/Notebook/img/Recap_time.png) 


For a population size of 100 it does seem unfeasible to attempt a recapitation for a 10x10 matrix, with an extrapolated time of about 9 months running on my macbook. 
![image](https://github.com/TestTheTests/TTT_Offset_Vulnerability_GF_Sims/blob/master/Notebook/img/Recap_time_100_extrap.png)

While for a population of size 10 in a 10x10 matrix should finish recapitating in just about 2 hours, and wether one or two time points are considered shouldn't really affect the run time.
![image](https://github.com/TestTheTests/TTT_Offset_Vulnerability_GF_Sims/blob/master/Notebook/img/Recap_time_10_extrap.png)


And that's almost exactly how long it took to run it when I actually generated the 10x10 tree sequence file. But when I increased the recombination rate from 10<sup>-8</sup> to 10<sup>-5</sup> (but keept the migration rate high at 0.2) it didn't finish even after running it over the weekend.
  
### 20190708 ###

After revisiting a discussion with Peter about the Ne parameter in the recapitate function, I seem to have been multiplying the effective population size by a 101 each time I ran the function (100 populations + 1 ancestral). So the actual times reported above are for when recaptiate() considered an effective population size of over 10,000 for the 10x10 "Pop. size = 10" and 100,000 when "Pop. size = 1000". 

So that was certainly slowing it down, but it's clear that recombination rate is having a big effect on the recapitate time, apparently much more so than migration rate: with an appropiate Ne parameter, 10<sup>-8</sup> recombination rate, and with a 0.05 mig. rate recapitate ran quite quickly on the cluster, while with 10<sup>-5</sup> recombination rate, and 0.05 mig. rate we're on hour 2 on the cluster and counting...
